#!/usr/bin/env -S mycmd
# -*- mode: shell-script; sh-shell: bash; sh-basic-offset: 4; sh-indentation: 4; coding: utf-8 -*-
# shellcheck shell=bash

set -o nounset -o errexit -o errtrace -o pipefail

mycmd.source_mycmd_lib "logging"
mycmd.source_mycmd_lib "shell"
mycmd.source_mycmd_lib "hell"

mycmd.defer_at_startup mycmd.output "Finished starting of test-command."
mycmd.defer_at_exit mycmd.output "Finished execution of test-command."

function mycmd.main() {
    mycmd.output "This is the output from test-command."
    mycmd.output "This is what is executing: $0."
    mycmd.output "This is the MyCmd Command Absolute Path: $(mycmd.running_command_abspath || true)"
    mycmd.output "This is the source: ${BASH_SOURCE[0]}."

    if mycmd.function_exists "logging.capture_and_display"; then
        mycmd.output "Successfully loaded the logging command group."
    fi

    if [[ -v _MYCMD_SHELL_LIB ]]; then
        mycmd.output "Successfully loaded the shell command group."
    fi
}
